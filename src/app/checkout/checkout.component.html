<div class="container-fluid hero">
    <tr-navbar></tr-navbar>
</div>
<div class="container min-vh-50">
    <div class="row">
        <div class="col-12">
            <h2 class="text-center display-6 mt-2 rebel-font">Your order</h2>
            <p class="fs-5">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.</p>
        </div>
    </div>
    <ng-template [ngIf]="cart.length > 0" [ngIfElse]="empty">
        <table class="table table-mobile">
            <thead>
            <tr>
                <th scope="col"></th>
                <th scope="col">Persons</th>
                <th scope="col">Start Date</th>
                <th scope="col">Destination</th>
                <th scope="col">Price</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let travel of cart">
                <td><img class="img-thumbnail"src="{{travel.img}}" alt=""></td>
                <td><span class="ms-4">{{travel.persons}}</span>
                    <div>
                        <input type="button" class="btn btn-outline-success" value="+" name="btnPersonPlus" (click)="increasePersons(travel)">
                        <input type="button" class="btn btn-outline-danger" value="-" name="btnPersonPlus" (click)="decreasePersons(travel)">
                    </div>
                    
                </td>
                <!-- TODO FIX ME -->
                <td>{{travel.selectedStartdate.toLocaleDateString()}}</td>
                <td>{{travel.destination}} - {{travel.title}}</td>
                <td>{{travel.price.toFixed(2)}} EUR</td>
            </tr>
            </tbody>
        </table>
        <div class="row justify-content-end me-2">
            <table style="width: 18rem">
            <thead>
                <tr>
                    <th style="width: 50%"></th>
                    <th style="width: 50%"></th>
                  </tr>
            </thead>
            <tbody>
                <tr *ngIf="discount > 0">
                    <td>Total:</td>
                    <td class="text-end">{{total.toFixed(2)}} EUR</td>
                </tr>
                <tr class="text-success" *ngIf="discount > 0">
                    <td>Discount:</td>
                    <td class="text-end">-{{discount.toFixed(2)}} EUR</td>
                </tr>
                <tr>
                    <td><span *ngIf="discount > 0">Discounted</span> Total:</td>
                    <td class="text-end">{{discountedTotal.toFixed(2)}} EUR</td>
                </tr>
        </table>
        </div>
        <div class="d-flex justify-content-between mt-3">
            <div class="p-2">
                <a class="btn btn-outline-success" routerLink="../travels"><i class="fas fa-arrow-left"></i> Back to our Travels</a>        
            </div>
            <div class="p-2">
                <button class="btn btn-success" (click)="placeOrder()">Place Order</button> 
            </div>
        </div>
    </ng-template>
    <ng-template #empty> 
        <div class="mt-5">
            <p>Your cart is currently empty.</p>
            <a class="btn btn-outline-success" routerLink="../travels"><i class="fas fa-arrow-left"></i> Check our travels</a>   
        </div>  
    </ng-template>
    
    
</div>